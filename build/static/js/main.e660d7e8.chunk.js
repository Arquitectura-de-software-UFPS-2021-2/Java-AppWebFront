(this.webpackJsonpfrontjavaweb=this.webpackJsonpfrontjavaweb||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),s=n(16),a=n.n(s),r=(n(21),n(3)),i=n(4),l=n.n(i),u=n(5),j=(n(23),n(24),n(0)),d=function(e){var t=e.selectChange,n=Object(c.useState)([{}]),o=Object(r.a)(n,2),s=o[0],a=o[1],i=Object(c.useState)("ODT"),l=Object(r.a)(i,2),u=l[0],d=l[1],O=function(){var e=JSON.parse(localStorage.getItem("conversion"));switch(console.log(e),e.extOrigen){case"DOCX":a([{ext:"ODT",nombre:"ODT"}]),b("ODT");break;case"ODT":a([{ext:"DOCX",nombre:"DOCX"}]),b("DOCX");break;case"XLSX":a([{ext:"ODS",nombre:"ODS"}]),b("ODS");break;case"ODS":a([{ext:"XLSX",nombre:"XLSX"}]),b("XLSX");break;case"ODP":a([{ext:"PPTX",nombre:"PPTX"}]),b("PPTX");break;case"PPTX":a([{ext:"ODP",nombre:"ODP"}]),b("ODP")}},b=function(e){d(e);var t=JSON.parse(localStorage.getItem("conversion"));t.extDestino=e,localStorage.setItem("conversion",JSON.stringify(t))};return Object(j.jsxs)("div",{className:"select-container",children:[Object(j.jsxs)("select",{className:"select-input",onChange:function(e){e.preventDefault();var n=JSON.parse(localStorage.getItem("conversion"));n.extOrigen=e.target.value,localStorage.setItem("conversion",JSON.stringify(n)),O(),t(),console.log(localStorage.getItem("conversion"))},children:[Object(j.jsx)("option",{value:"DOCX",children:"DOCX"}),Object(j.jsx)("option",{value:"ODT",children:"ODT"}),Object(j.jsx)("option",{value:"XLSX",children:"XLSX"}),Object(j.jsx)("option",{value:"ODS",children:"ODS"}),Object(j.jsx)("option",{value:"PPTX",children:"PPTX"}),Object(j.jsx)("option",{value:"ODP",children:"ODP"})]}),Object(j.jsx)("p",{className:"conector",children:"a"}),Object(j.jsxs)("select",{className:"select-input",value:u,onChange:function(e){e.preventDefault(),d(e.target.value);var t=JSON.parse(localStorage.getItem("conversion"));t.extDestino=e.target.value,localStorage.setItem("conversion",JSON.stringify(t)),console.log(localStorage.getItem("conversion"))},children:[s.map((function(e){return e.nombre?Object(j.jsx)("option",{value:e.ext,children:e.nombre}):Object(j.jsx)("option",{value:"ODT",children:"ODT"})})),Object(j.jsx)("option",{value:"PDF",children:"PDF"})]})]})},O=n(6),b=n.n(O),v=function(){var e=JSON.parse(localStorage.getItem("conversion")).extOrigen;return console.log(e),e},h=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",b.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",console.log(t),e.prev=3,e.next=6,b.a.post("http://54.163.147.33:8080/convertir",t);case 6:return c=e.sent,console.log(null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.base64),e.abrupt("return",null===c||void 0===c?void 0:c.data);case 11:return e.prev=11,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.extension,n=e.selectChange,o=Object(c.useState)(""),s=Object(r.a)(o,2),a=s[0],i=s[1],O=Object(c.useState)("Selecciona un Archivo"),b=Object(r.a)(O,2),v=b[0],p=b[1],f=Object(c.useState)({}),x=Object(r.a)(f,2),g=x[0],m=x[1],D=Object(c.useState)(!1),S=Object(r.a)(D,2),N=S[0],X=S[1],P=Object(c.useState)(!1),C=Object(r.a)(P,2),T=C[0],w=C[1],k=Object(c.useRef)(),I=function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=Object(u.a)(l.a.mark((function e(){var n,c,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.result,c=n.split(","),o=JSON.parse(localStorage.getItem("conversion")),s={base64:c[1],extensionDestino:o.extDestino,extensionFuente:o.extOrigen,nombreArchivo:v},h(s).then((function(e){switch(i(null===e||void 0===e?void 0:e.nombreArchivo),JSON.parse(localStorage.getItem("conversion")).extDestino){case"PDF":console.log(a),J(null===e||void 0===e?void 0:e.base64,"pdf"),X(!0);break;case"ODT":console.log(a),J(null===e||void 0===e?void 0:e.base64,"vnd.oasis.opendocument.text"),X(!0);break;case"DOCX":console.log(a),J(null===e||void 0===e?void 0:e.base64,"msword"),X(!0);case"XLSX":console.log(a),J(null===e||void 0===e?void 0:e.base64,"vnd.ms-excel"),X(!0);case"ODS":console.log(a),J(null===e||void 0===e?void 0:e.base64,"vnd.oasis.opendocument.spreadsheet"),X(!0);case"PPTX":console.log(a),J(null===e||void 0===e?void 0:e.base64,"vnd.ms-powerpoint"),X(!0);case"ODP":console.log(a),J(null===e||void 0===e?void 0:e.base64,"vnd.oasis.opendocument.presentation"),X(!0)}}));case 5:case"end":return e.stop()}}),e)}))),t.onerror=function(e){console.log("Error: ",e)}},J=function(e,t){console.log(t),fetch("data:application/".concat(t,";base64,").concat(e)).then((function(e){return e.blob()})).then((function(e){return k.current.href=URL.createObjectURL(e)})),w(!1)};return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:"inputFile-container",onSubmit:function(e){e.preventDefault(),w(!0),I(g)},children:[Object(j.jsxs)("div",{className:"inputs",children:[Object(j.jsxs)("div",{className:"file-picker",children:[Object(j.jsx)("input",{type:"file",accept:t,name:"file",id:"file",class:"inputfile",onChange:function(e){e.preventDefault(),p(e.target.files[0].name),m(e.target.files[0]),console.log(e.target.files[0])}}),Object(j.jsxs)("label",{for:"file",children:[Object(j.jsx)("i",{class:"fas fa-upload"}),v]})]}),Object(j.jsx)("div",{className:"selects",children:Object(j.jsx)(d,{selectChange:n})})]}),Object(j.jsxs)("div",{className:"button-container",children:[Object(j.jsx)("button",{className:"button",children:"Convertir"}),T&&Object(j.jsx)("div",{class:"loader",children:"Loading..."}),N&&Object(j.jsx)("a",{className:"button",ref:k,download:a,target:"_blank",onClick:function(){setTimeout((function(){window.location.reload()}),300)},children:" Descargar "})]})]})})},f=(n(44),n(45),function(){return Object(j.jsx)("div",{children:Object(j.jsx)("header",{className:"header",children:Object(j.jsx)("img",{src:"https://i.imgur.com/pOVPTpe.png",width:"300px"})})})}),x=(n(46),function(){return Object(j.jsxs)("div",{className:"instrucciones-container",children:[Object(j.jsxs)("div",{className:"pasos",children:[Object(j.jsx)("h2",{children:"Paso 1"}),Object(j.jsx)("p",{children:"Seleccione el archivo desde el ordenador"})]}),Object(j.jsxs)("div",{className:"pasos",children:[Object(j.jsx)("h2",{children:"Paso 2"}),Object(j.jsx)("p",{children:"Elija el formato al cual desea convertir"})]}),Object(j.jsxs)("div",{className:"pasos",children:[Object(j.jsx)("h2",{children:"Paso 3"}),Object(j.jsx)("p",{children:"Descargue su archivo convertido"})]})]})});var g=function(){var e=Object(c.useState)("DOCX"),t=Object(r.a)(e,2),n=t[0],o=t[1],s={extOrigen:"DOCX",extDestino:"ODT"};return Object(c.useEffect)((function(){localStorage.setItem("conversion",JSON.stringify(s))}),[]),Object(c.useEffect)((function(){o(v())}),[p]),Object(j.jsxs)("div",{className:"App-container",children:[Object(j.jsx)(f,{}),Object(j.jsxs)("div",{className:"tittle-container",children:[Object(j.jsx)("h1",{className:"tittle",children:"Conversor de archivos"}),Object(j.jsx)("p",{children:"Convierte tus archivos a cualquier formato"})]}),Object(j.jsxs)("section",{className:"flujo-container",children:[Object(j.jsx)("div",{className:"formulario",children:Object(j.jsx)("div",{className:"form-container",children:Object(j.jsx)(p,{extension:"."+n,selectChange:function(){console.log("desde app"),o(v())}})})}),Object(j.jsx)("div",{className:"instrucciones",children:Object(j.jsx)(x,{})})]})]})};a.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.e660d7e8.chunk.js.map